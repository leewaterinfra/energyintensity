<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Energy Intensity • energyintensity</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">energyintensity</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="..//index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/intro.html">Energy Intensity</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>Energy Intensity</h1>
                        <h4 class="author">Andrew Holguin</h4>
            
            <h4 class="date">2017-08-03</h4>
          </div>

    
    
<div class="contents">
<p>The <code>energyintensity</code> R package provides classes and functions to support the development of network-based energy intensity models using utility meter and infrastructure data. It is currently available only on Github:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="cf">if</span> (<span class="op">!</span><span class="kw">require</span>(energyintensity)) remotes<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/remotes/topics/install_github">install_github</a></span>(<span class="st">"ucd-cwee/energyintensity"</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">"energyintensity"</span>)</code></pre></div>
<p>The basic data required to build a spatially disaggregeted energy intensity model can be divided into two categories:</p>
<ol style="list-style-type: decimal">
<li>asset water and energy meter readings<br>
</li>
<li>network connectivity model</li>
</ol>
<p>With these two data sets, it is possible to model the cumulative energy required to serve different locations within the water utility distribution network.</p>
<p>Other types of data can also be integrated, both to improve the robustness of the model and to enable additional analytical features. These include spatial pressure zones, customer consumption data, and modeled flow values (from a hydraulic model).</p>
<div id="asset-meter-data" class="section level3">
<h3 class="hasAnchor">
<a href="#asset-meter-data" class="anchor"></a>Asset Meter Data</h3>
<p>Asset water meter data is typically obtained either from a utility SCADA system, which measures flow rates at regular intervals, or from aggregated records provided by the water utility. Energy meter data is similarly obtained from the water utiilty SCADA system, or as is often the case, from energy utility billing records. The data for each meter is structured as a time series, however the measurment resolution (e.g., regular 15-minute interval vs. irregular billing cycles) and type (e.g., rate vs. volume) may vary between the series. Calculating energy intensity requires all of the water and energy meter data associated with an asset to be combined and reconciled.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># sample meter data</span>
<span class="kw">data</span>(pst1_water)

<span class="co"># plot</span>
<span class="kw">library</span>(<span class="st">"lubridate"</span>)</code></pre></div>
<pre><code>## 
## Attaching package: 'lubridate'</code></pre>
<pre><code>## The following object is masked from 'package:base':
## 
##     date</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">"ggforce"</span>)</code></pre></div>
<pre><code>## Warning: package 'ggforce' was built under R version 3.4.1</code></pre>
<pre><code>## Loading required package: ggplot2</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(<span class="st">"ggstance"</span>)</code></pre></div>
<pre><code>## Warning: package 'ggstance' was built under R version 3.4.1</code></pre>
<pre><code>## 
## Attaching package: 'ggstance'</code></pre>
<pre><code>## The following objects are masked from 'package:ggplot2':
## 
##     geom_errorbarh, GeomErrorbarh</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">ggplot</span>(pst1_water, <span class="kw">aes</span>(<span class="dt">xmin =</span> <span class="kw">int_start</span>(interval),
                       <span class="dt">xmax =</span> <span class="kw">int_end</span>(interval),
                       <span class="dt">y =</span> water)) <span class="op">+</span>
<span class="st">  </span><span class="kw"><a href="http://www.rdocumentation.org/packages/ggstance/topics/geom_linerangeh">geom_linerangeh</a></span>()</code></pre></div>
<p><img src="intro_files/figure-html/unnamed-chunk-3-1.png" width="672"></p>
<p>Cleaning and pre-processing of the data can be handled entirely by the analyst, however, there are a few approaches built in to the <code>energyintensity</code> package, which implement commonly used methods. These methods are used to standardize the different time series, so that they can be merged and aggregated. The available methods fall into two general categories: (1) aggregation, and (2) resampling.</p>
<ul>
<li>ei_data</li>
<li><p>df with several specific fields</p></li>
<li>support point and interval measurements (and conversion)</li>
<li>time series vis &amp; diagnostics</li>
<li><p>app to support review and validation</p></li>
</ul>
</div>
<div id="network-connectivity-model" class="section level3">
<h3 class="hasAnchor">
<a href="#network-connectivity-model" class="anchor"></a>Network Connectivity Model</h3>
<ul>
<li>ei_net</li>
<li><p>igraph with ei_data attached at nodes (and edges)</p></li>
<li>convert between spatial and igraph-based network</li>
<li><p>display (and edit?) connectivity</p></li>
</ul>
</div>
<div id="data-integration" class="section level3">
<h3 class="hasAnchor">
<a href="#data-integration" class="anchor"></a>Data Integration</h3>
<ul>
<li>associate meter data with specific nodes or edges in the graph</li>
</ul>
</div>
<div id="network-time-slices" class="section level3">
<h3 class="hasAnchor">
<a href="#network-time-slices" class="anchor"></a>Network Time Slices</h3>
<ul>
<li>snapshot of model during a point or interval of time</li>
<li>cumulative flow and related diagnostics</li>
</ul>
</div>
<div id="model-execution" class="section level3">
<h3 class="hasAnchor">
<a href="#model-execution" class="anchor"></a>Model Execution</h3>
<ul>
<li>calc ei &amp; flow</li>
</ul>
</div>
<div id="spatial-visualization" class="section level3">
<h3 class="hasAnchor">
<a href="#spatial-visualization" class="anchor"></a>Spatial Visualization</h3>
<ul>
<li>plot as map</li>
<li>pressure zone data –&gt; visualize ei throughout service territory</li>
</ul>
</div>
<div id="customer-data-conservation-estimates" class="section level3">
<h3 class="hasAnchor">
<a href="#customer-data-conservation-estimates" class="anchor"></a>Customer Data &amp; Conservation Estimates</h3>
</div>
<div id="data-fusion-model-tuning" class="section level3">
<h3 class="hasAnchor">
<a href="#data-fusion-model-tuning" class="anchor"></a>Data Fusion &amp; Model Tuning</h3>
</div>
<div id="future-development-plans" class="section level3">
<h3 class="hasAnchor">
<a href="#future-development-plans" class="anchor"></a>Future Development Plans</h3>
<p>Split non-core components into other packages: - random data generation for simulation and testing - model development vis app - additional extensions?</p>
<ul>
<li>network skeletonization</li>
<li>integration with external hydraulic models</li>
<li>better representation of time lags and storage</li>
<li>additional and improved analytical tools</li>
<li>more tests, documentation, etc.</li>
</ul>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Andrew Holguin.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
