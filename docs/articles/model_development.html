<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Model Development â€¢ energyintensity</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootswatch/3.3.7/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../jquery.sticky-kit.min.js"></script><script src="../pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="../index.html">energyintensity</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="..//index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/intro.html">Energy Intensity Data</a>
    </li>
    <li>
      <a href="../articles/model_development.html">Model Development</a>
    </li>
    <li>
      <a href="../articles/model_outputs.html">Model Outputs</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    <div class="page-header toc-ignore">
      <h1>Model Development</h1>
                        <h4 class="author">Andrew Holguin</h4>
            
            <h4 class="date">2017-08-23</h4>
          </div>

    
    
<div class="contents">
<div id="asset-meter-data" class="section level3">
<h3 class="hasAnchor">
<a href="#asset-meter-data" class="anchor"></a>Asset Meter Data</h3>
<ul>
<li>support point and interval measurements (and conversion)</li>
<li>time series vis &amp; diagnostics</li>
<li>app to support review and validation</li>
</ul>
</div>
<div id="meter-data-reconciliation" class="section level3">
<h3 class="hasAnchor">
<a href="#meter-data-reconciliation" class="anchor"></a>Meter Data Reconciliation</h3>
<p>Calculating energy intensity requires all of the water and energy meter data associated with an asset to be combined and reconciled.</p>
<p>Cleaning and pre-processing of the data can be handled entirely by the analyst, however, there are a few approaches built in to the <code>energyintensity</code> package, which implement commonly used methods. These methods are used to standardize the different time series, so that they can be merged and aggregated. The available methods fall into two general categories: (1) aggregation, and (2) resampling.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(units)
<span class="kw">library</span>(energyintensity)

ps1_energy &lt;-<span class="st"> </span><span class="kw"><a href="../reference/meter_df.html">meter_df</a></span>(<span class="dt">time =</span> <span class="kw">seq.Date</span>(<span class="kw">as.Date</span>(<span class="st">"2013-1-1"</span>),
                                       <span class="dt">by =</span> <span class="st">"+1 month"</span>,
                                       <span class="dt">length.out =</span> <span class="dv">12</span>),
                       <span class="dt">electricity =</span> <span class="kw">set_units</span>(<span class="kw">rnorm</span>(<span class="dv">12</span>), kW))

ps1_water &lt;-<span class="st"> </span><span class="kw"><a href="../reference/meter_df.html">meter_df</a></span>(<span class="dt">time =</span> <span class="kw">seq.Date</span>(<span class="kw">as.Date</span>(<span class="st">"2013-1-1"</span>),
                                      <span class="dt">by =</span> <span class="st">"+1 month"</span>,
                                      <span class="dt">length.out =</span> <span class="dv">12</span>),
                      <span class="dt">water =</span> <span class="kw">set_units</span>(<span class="kw">rnorm</span>(<span class="dv">12</span>), <span class="kw">parse_unit</span>(<span class="st">"Mgallon day-1"</span>)))

ps1_all &lt;-<span class="st"> </span><span class="kw"><a href="../reference/reconcile.html">reconcile</a></span>(ps1_energy, ps1_water)</code></pre></div>
<p>Once you have a reconciled meter data frame, it is trivial to calculate energy intensity.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ps1_all<span class="op">$</span>ei &lt;-<span class="st"> </span>ps1_all<span class="op">$</span>electricity <span class="op">/</span><span class="st"> </span>ps1_all<span class="op">$</span>water

<span class="co"># convert units</span>
ps1_all<span class="op">$</span>ei_kwh_mg &lt;-<span class="st"> </span><span class="kw">set_units</span>(ps1_all<span class="op">$</span>ei, <span class="kw">parse_unit</span>(<span class="st">"kW hour Mgallon-1"</span>))</code></pre></div>
</div>
<div id="network-connectivity-model" class="section level3">
<h3 class="hasAnchor">
<a href="#network-connectivity-model" class="anchor"></a>Network Connectivity Model</h3>
<ul>
<li>display (and edit?) connectivity</li>
</ul>
</div>
<div id="data-integration" class="section level3">
<h3 class="hasAnchor">
<a href="#data-integration" class="anchor"></a>Data Integration</h3>
<ul>
<li>associate meter data with specific nodes or edges in the graph</li>
</ul>
</div>
<div id="network-time-slices" class="section level3">
<h3 class="hasAnchor">
<a href="#network-time-slices" class="anchor"></a>Network Time Slices</h3>
<ul>
<li>snapshot of model during a point or interval of time</li>
<li>cumulative flow and related diagnostics</li>
</ul>
</div>
<div id="model-execution" class="section level3">
<h3 class="hasAnchor">
<a href="#model-execution" class="anchor"></a>Model Execution</h3>
<ul>
<li>calc ei &amp; flow</li>
</ul>
</div>
<div id="data-fusion-model-tuning" class="section level3">
<h3 class="hasAnchor">
<a href="#data-fusion-model-tuning" class="anchor"></a>Data Fusion &amp; Model Tuning</h3>
<ul>
<li>e.g., flow/usage data reconciliation</li>
</ul>
</div>
<div id="future-development-plans" class="section level2">
<h2 class="hasAnchor">
<a href="#future-development-plans" class="anchor"></a>Future Development Plans</h2>
<p>Split non-core components into other packages: - random data generation for simulation and testing - model development vis app - additional extensions?</p>
<ul>
<li>network skeletonization</li>
<li>integration with external hydraulic models</li>
<li>better representation of time lags and storage</li>
<li>additional and improved analytical tools</li>
<li>more tests, documentation, etc.</li>
</ul>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li><a href="#future-development-plans">Future Development Plans</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Andrew Holguin.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
